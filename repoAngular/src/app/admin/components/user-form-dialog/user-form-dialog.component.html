<h2 mat-dialog-title>
  <mat-icon class="dialog-title-icon">person_add</mat-icon> Nuevo Usuario
</h2>

<mat-dialog-content class="mat-typography">
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()" style="display: flex; flex-direction: column; margin-top: 1em">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Nombre de usuario</mat-label>
      <input matInput formControlName="username" required>
      @if(userForm.get('username')?.hasError('required')) {
        <mat-error>El nombre de usuario es requerido</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" type="email" required>
      @if (userForm.get('email')?.hasError('required')){
        <mat-error>El email es requerido</mat-error>
      }
      @if (userForm.get('email')?.hasError('email')){
        <mat-error>Formato de email inválido</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Contraseña</mat-label>
      <input matInput formControlName="password" type="password" required>
      @if(userForm.get('password')?.hasError('required')){
        <mat-error>La contraseña es requerida</mat-error>
      }
    </mat-form-field>

    <div mat-dialog-actions class="dialog-actions">
      <button mat-button mat-dialog-close>Cancelar</button>
      <button mat-raised-button color="primary" type="submit" [disabled]="!userForm.valid">
        <mat-icon>save</mat-icon> Crear Usuario
      </button>
    </div>
  </form>
</mat-dialog-content>
